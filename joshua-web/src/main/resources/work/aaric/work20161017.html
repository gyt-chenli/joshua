<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>日期转换作业</title>
</head>
<body>

<script>
    function getDisplayDate(date) {

        if (date instanceof Date) {
            var currentDate = new Date();
            var currentTime = currentDate.getTime();
            var targetTime = date.getTime();

            var deltaTime = currentTime - targetTime;

            if (deltaTime > 0) {
                var min = deltaTime / 1000 / 60;

                if (min <= 5) {
                    return "刚刚";
                }

                var hours = min / 60;

                if (hours < 1) {
                    return Math.ceil(min) + " 分钟之前";
                }

                var day = hours / 24;

                if (day < 1) {
                    return Math.ceil(hours) + " 小时之前";
                }

                var week = day / 7;

                if (week < 1) {
                    return Math.ceil(day) + " 天之前";
                } else if (week < 2) {
                    return "一周前";
                } else {
                    return date;
                }

            }
        }

        return date;
    }

    console.log(getDisplayDate(123));
    console.log(getDisplayDate("123"));
    console.log(getDisplayDate(new Date("2016-10-17 20:35:00")));
    console.log(getDisplayDate(new Date("2016-10-17 20:35:00")));
    console.log(getDisplayDate(new Date("2016-10-17 20:00:00")));
    console.log(getDisplayDate(new Date("2016-10-17 15:00:00")));
    console.log(getDisplayDate(new Date("2016-10-16 15:00:00")));
    console.log(getDisplayDate(new Date("2016-10-10 15:00:00")));
    console.log(getDisplayDate(new Date("2016-9-10 15:00:00")));
    console.log(getDisplayDate(new Date("2016-11-10 15:00:00")));

</script>
</body>
</html>